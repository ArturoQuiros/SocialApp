!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@floating-ui/react-dom"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","@floating-ui/react-dom","react-dom"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).FloatingUIReactDOM={},e.React,e.FloatingUIReactDOM,e.ReactDOM)}(this,(function(e,t,n,r){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var u=o(t),c="undefined"!=typeof document?t.useLayoutEffect:t.useEffect;function i(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter((e=>e!==n)))}}}let l=!1,a=0;const s=()=>"floating-ui-"+a++;const f=u["useId".toString()],d=null!=f?f:function(){const[e,t]=u.useState((()=>l?s():void 0));return c((()=>{null==e&&t(s())}),[]),u.useEffect((()=>{l||(l=!0)}),[]),e},v=u.createContext(null),g=u.createContext(null),m=()=>{var e,t;return null!=(e=null==(t=u.useContext(v))?void 0:t.id)?e:null},p=()=>u.useContext(g);function y(e,t,n){const r={};return{..."floating"===n&&{tabIndex:-1},...e,...t.map((e=>e?e[n]:null)).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;0===n.indexOf("on")?(r[n]||(r[n]=[]),"function"==typeof o&&r[n].push(o),e[n]=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];r[n].forEach((e=>e(...t)))}):e[n]=o})),e):e),{})}}function h(e){var t;return null!=(t=null==e?void 0:e.ownerDocument)?t:document}function b(e){var t;return null!=(t=h(e).defaultView)?t:window}function E(e){return!!e&&e instanceof b(e).Element}function w(e){return!!e&&e instanceof b(e).HTMLElement}function x(e,t){var n;let r=null!=(n=null==e?void 0:e.nodesRef.current.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})))?n:[],o=r;for(;o.length;){var u;o=null!=(u=null==e?void 0:e.nodesRef.current.filter((e=>{var t;return null==(t=o)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})))?u:[],r=r.concat(o)}return r}const k="floating-ui-root";function R(){return R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R.apply(this,arguments)}const O="data-floating-ui-scroll-lock",T=u.forwardRef((function(e,t){let{lockScroll:n=!1,...r}=e;return c((()=>{if(!n)return;const e=window.pageXOffset,t=window.pageYOffset,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth;return document.body.hasAttribute(O)?void 0:(Object.assign(document.body.style,{position:"fixed",overflow:"hidden",top:"-"+t+"px",left:"-"+e+"px",right:"0",[r]:o+"px"}),document.body.setAttribute(O,""),()=>{Object.assign(document.body.style,{position:"",overflow:"",top:"",left:"",right:"",[r]:""}),document.body.removeAttribute(O),window.scrollTo(e,t)})}),[n]),u.createElement("div",R({ref:t},r,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}}))}));var I=new WeakMap,C=new WeakMap,L={},M=0,P=function(e,t,n){void 0===t&&(t=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];L[n]||(L[n]=new WeakMap);var o=L[n],u=[],c=new Set,i=function(e){e&&!c.has(e)&&(c.add(e),i(e.parentNode))};r.forEach(i);var l=function(e){!e||r.indexOf(e)>=0||Array.prototype.forEach.call(e.children,(function(e){if(c.has(e))l(e);else{var t=e.getAttribute("aria-hidden"),r=null!==t&&"false"!==t,i=(I.get(e)||0)+1,a=(o.get(e)||0)+1;I.set(e,i),o.set(e,a),u.push(e),1===i&&r&&C.set(e,!0),1===a&&e.setAttribute(n,"true"),r||e.setAttribute("aria-hidden","true")}}))};return l(t),c.clear(),M++,function(){u.forEach((function(e){var t=I.get(e)-1,r=o.get(e)-1;I.set(e,t),o.set(e,r),t||(C.has(e)||e.removeAttribute("aria-hidden"),C.delete(e)),r||e.removeAttribute(n)})),--M||(I=new WeakMap,I=new WeakMap,C=new WeakMap,L={})}};function A(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(r=n.shadowRoot)?void 0:r.activeElement);){var n,r;t=t.shadowRoot.activeElement}return t}function D(e){e.preventDefault(),e.stopPropagation()}function F(e){const n=t.useRef(e);return c((()=>{n.current=e})),n}function S(e){requestAnimationFrame((()=>{null==e||e.focus()}))}const j=u.forwardRef((function(e,t){return u.createElement("span",R({},e,{ref:t,tabIndex:0,style:{position:"fixed",opacity:"0",pointerEvents:"none",outline:"0"}}))}));function N(e,t,n){return n&&"mouse"!==n?0:"number"==typeof e?e:null==e?void 0:e[t]}const K=u.createContext({delay:1e3,initialDelay:1e3,currentId:null,setCurrentId:()=>{},setState:()=>{}}),W=()=>u.useContext(K);function B(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}const U="ArrowUp",q="ArrowDown",H="ArrowLeft",G="ArrowRight";function V(e,t){let{startingIndex:n=-1,decrement:r=!1}=void 0===t?{}:t;const o=e.current;let u=n;do{var c,i;u+=r?-1:1}while(u>=0&&u<=o.length-1&&(null==o[u]||null!=(c=o[u])&&c.hasAttribute("disabled")||"true"===(null==(i=o[u])?void 0:i.getAttribute("aria-disabled"))));return u}function _(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function X(e,t){return _(t,e===U||e===q,e===H||e===G)}function Y(e,t,n){return _(t,e===q,n?e===H:e===G)}function z(e){return V(e)}function J(e){return V(e,{decrement:!0,startingIndex:e.current.length})}e.FloatingDelayGroup=e=>{let{children:t,delay:n}=e;const[r,o]=u.useState({delay:n,initialDelay:n,currentId:null}),c=u.useCallback((e=>{o((t=>({...t,currentId:e})))}),[]);return u.createElement(K.Provider,{value:u.useMemo((()=>({...r,setState:o,setCurrentId:c})),[r,o,c])},t)},e.FloatingFocusManager=function(e){let{context:{refs:t,nodeId:n,onOpenChange:r},children:o,order:c=["content"],endGuard:i=!0,preventTabbing:l=!1,initialFocus:a=0,returnFocus:s=!0,modal:f=!0}=e;const d=F(c),v=F(r),g=p(),m=u.useCallback((()=>d.current.map((e=>{return w(t.reference.current)&&"reference"===e?t.reference.current:t.floating.current&&"floating"===e?t.floating.current:"content"===e?Array.from(null!=(n=null==(r=t.floating.current)?void 0:r.querySelectorAll("input:not([type='hidden']):not([disabled]),select:not([disabled]),textarea:not([disabled]),a[href],button:not([disabled]),[tabindex],iframe,object,embed,area[href],audio[controls],video[controls],[contenteditable]:not([contenteditable='false'])"))?n:[]):null;var n,r})).flat().filter((e=>{if(e===t.floating.current||e===t.reference.current)return!0;if(w(e)){var n;return"-"!==(null!=(n=e.getAttribute("tabindex"))?n:"0")[0].trim()}}))),[d,t.floating,t.reference]);return u.useEffect((()=>{const e=0===m().filter((e=>e!==t.floating.current&&e!==t.reference.current)).length;function n(n){if("Tab"===n.key){(l||e)&&D(n);const r=m(),o="composedPath"in n?n.composedPath()[0]:n.target;"reference"===d.current[0]&&o===t.reference.current&&(D(n),n.shiftKey?S(r[r.length-1]):S(r[1])),"floating"===d.current[1]&&o===t.floating.current&&n.shiftKey&&(D(n),S(r[0]))}}const r=h(t.floating.current);return r.addEventListener("keydown",n),()=>{r.removeEventListener("keydown",n)}}),[l,m,d,t.floating,t.reference]),u.useEffect((()=>{function e(e){var r;const o=e.relatedTarget;null!=(r=t.floating.current)&&r.contains(o)||!E(t.reference.current)||t.reference.current.contains(o)||g&&x(g,n).some((e=>{var t,n;return null==(t=e.context)||null==(n=t.refs.floating.current)?void 0:n.contains(o)}))||v.current(!1)}const r=t.floating.current,o=t.reference.current;if(r&&w(o)){!f&&r.addEventListener("focusout",e);const t=f?P(r):null;return()=>{!f&&r.removeEventListener("focusout",e),null==t||t()}}}),[n,g,f,v,m,a,t.floating,t.reference]),u.useEffect((()=>{var e;if(l)return;const n=t.floating.current,r=null!=(e=A(h(n)))?e:A(document);var o;if("number"==typeof a)S(null!=(o=m()[a])?o:n);else if(w(null==a?void 0:a.current)){var u;S(null!=(u=a.current)?u:n)}return()=>{s&&w(r)&&S(r)}}),[l,m,a,f,s,t.floating]),u.createElement(u.Fragment,null,f&&u.createElement(j,{onFocus:e=>{D(e);const t=m();"reference"===c[0]?S(t[0]):S(t[t.length-1])}}),u.cloneElement(o,c.includes("floating")?{tabIndex:0}:{}),f&&i&&u.createElement(j,{onFocus:e=>{D(e),S(m()[0])}}))},e.FloatingNode=e=>{let{children:t,id:n}=e;const r=m();return u.createElement(v.Provider,{value:u.useMemo((()=>({id:n,parentId:r})),[n,r])},t)},e.FloatingOverlay=T,e.FloatingPortal=e=>{let{children:t,id:n=k,root:o=null}=e;const[i,l]=u.useState(!1),a=u.useRef(null);return c((()=>{if(o)return;const e=document.getElementById(n);e?a.current=e:(a.current=document.createElement("div"),a.current.id=n),document.body.contains(a.current)||document.body.appendChild(a.current),l(!0)}),[n,o]),o?r.createPortal(t,o):i&&a.current?r.createPortal(t,a.current):null},e.FloatingTree=e=>{let{children:t}=e;const n=u.useRef([]),r=u.useCallback((e=>{n.current=[...n.current,e]}),[]),o=u.useCallback((e=>{n.current=n.current.filter((t=>t!==e))}),[]),c=u.useState((()=>i()))[0];return u.createElement(g.Provider,{value:u.useMemo((()=>({nodesRef:n,addNode:r,removeNode:o,events:c})),[n,r,o,c])},t)},e.safePolygon=function(e){let t,{restMs:n=0,buffer:r=0,debug:o=null}=void 0===e?{}:e,u=!1,c=!1,i=!1;return e=>{let{x:o,y:l,placement:a,refs:s,onClose:f,nodeId:d,tree:v}=e;return function(e){var g;if(clearTimeout(t),!u)return void(i||(i=!0,setTimeout((()=>{u=!0}),1e3/60)));function m(){clearTimeout(t),f()}if(e.pointerType&&"mouse"!==e.pointerType)return;const{clientX:p,clientY:y}=e,h="composedPath"in e?e.composedPath()[0]:e.target;if("pointermove"===e.type&&E(s.reference.current)&&s.reference.current.contains(h))return;if(v&&x(v,d).some((e=>{let{context:t}=e;return null==t?void 0:t.open})))return;if(null!=(g=s.floating.current)&&g.contains(h))return void(c=!0);if(!s.reference.current||!s.floating.current||null==a||null==o||null==l)return;const b=s.reference.current.getBoundingClientRect(),w=s.floating.current.getBoundingClientRect(),k=a.split("-")[0],R=o>w.right-w.width/2,O=l>w.bottom-w.height/2;if("top"===k&&l>=b.bottom-1||"bottom"===k&&l<=b.top+1||"left"===k&&o>=b.right-1||"right"===k&&o<=b.left+1)return m();switch(k){case"top":if(p>=w.left&&p<=w.right&&y>=w.bottom&&y<=b.top)return;break;case"bottom":if(p>=w.left&&p<=w.right&&y>=b.bottom&&y<=w.top)return;break;case"left":if(p>=w.right&&p<=b.left&&y>=w.top&&y<=w.bottom)return;break;case"right":if(p>=b.right&&p<=w.left&&y>=w.top&&y<=w.bottom)return}if(c)return m();const T=function(e){let[t,n]=e;const o=w.width>b.width,u=w.height>b.height;switch(k){case"top":return[[o?t+r/2:R?t+4*r:t-4*r,n+r+1],[o?t-r/2:R?t+4*r:t-4*r,n+r+1],...[[w.left,R||o?w.bottom-r:w.top],[w.right,R?o?w.bottom-r:w.top:w.bottom-r]]];case"bottom":return[[o?t+r/2:R?t+4*r:t-4*r,n-r],[o?t-r/2:R?t+4*r:t-4*r,n-r],...[[w.left,R||o?w.top+r:w.bottom],[w.right,R?o?w.top+r:w.bottom:w.top+r]]];case"left":{const e=[t+r+1,u?n+r/2:O?n+4*r:n-4*r],o=[t+r+1,u?n-r/2:O?n+4*r:n-4*r];return[...[[O||u?w.right-r:w.left,w.top],[O?u?w.right-r:w.left:w.right-r,w.bottom]],e,o]}case"right":return[[t-r,u?n+r/2:O?n+4*r:n-4*r],[t-r,u?n-r/2:O?n+4*r:n-4*r],...[[O||u?w.left+r:w.right,w.top],[O?u?w.left+r:w.right:w.left+r,w.bottom]]]}}([o,l]);!function(e,t){const[n,r]=e;let o=!1;const u=t.length;for(let e=0,c=u-1;e<u;c=e++){const[u,i]=t[e]||[0,0],[l,a]=t[c]||[0,0];i>=r!=a>=r&&n<=(l-u)*(r-i)/(a-i)+u&&(o=!o)}return o}([p,y],T)?m():n&&(t=setTimeout(f,n))}}},e.useClick=function(e,t){let{open:n,onOpenChange:r,dataRef:o,refs:c}=e,{enabled:i=!0,pointerDown:l=!1,toggle:a=!0,ignoreMouse:s=!1}=void 0===t?{}:t;const f=u.useRef();function d(){return w(c.reference.current)&&"BUTTON"===c.reference.current.tagName}return i?{reference:{onPointerDown(e){if(f.current=e.pointerType,("mouse"!==f.current||!s)&&l){var t;if(n)a&&"pointerdown"===(null==(t=o.current.openEvent)?void 0:t.type)&&r(!1);else r(!0);o.current.openEvent=e.nativeEvent}},onClick(e){if(l&&f.current)f.current=void 0;else if("mouse"!==f.current||!s){var t;if(n)a&&"click"===(null==(t=o.current.openEvent)?void 0:t.type)&&r(!1);else r(!0);o.current.openEvent=e.nativeEvent}},onKeyDown(e){d()||(" "===e.key&&e.preventDefault(),"Enter"===e.key&&(n?a&&r(!1):r(!0)))},onKeyUp(e){d()||" "===e.key&&(n?a&&r(!1):r(!0))}}}:{}},e.useDelayGroup=(e,t)=>{let{open:n,onOpenChange:r}=e,{id:o}=t;const{currentId:c,initialDelay:i,setState:l}=W(),a=F(r);u.useEffect((()=>{c&&a.current&&(l((e=>({...e,delay:{open:1,close:N(i,"close")}}))),c!==o&&a.current(!1))}),[o,a,l,c,i]),u.useEffect((()=>{!n&&c===o&&a.current&&(a.current(!1),l((e=>({...e,delay:i,currentId:null}))))}),[n,l,c,o,a,i])},e.useDelayGroupContext=W,e.useDismiss=function(e,t){let{open:r,onOpenChange:o,refs:c,events:i,nodeId:l}=e,{enabled:a=!0,escapeKey:s=!0,outsidePointerDown:f=!0,referencePointerDown:d=!1,ancestorScroll:v=!1,bubbles:g=!0}=void 0===t?{}:t;const m=p(),y=F(o),b=u.useCallback((()=>{var e;return null==(e=c.floating.current)?void 0:e.contains(A(h(c.floating.current)))}),[c.floating]),k=u.useCallback((()=>{w(c.reference.current)&&c.reference.current.focus()}),[c.reference]);return u.useEffect((()=>{if(!r||!a)return;function e(e){if("Escape"===e.key){if(!g&&!b())return;i.emit("dismiss"),y.current(!1),k()}}function t(e){const t=m&&x(m,l).some((t=>{var n;return B(e,null==(n=t.context)?void 0:n.refs.floating.current)}));B(e,c.floating.current)||E(c.reference.current)&&B(e,c.reference.current)||t||(g||b())&&(i.emit("dismiss"),y.current(!1),k())}function o(){y.current(!1)}const u=h(c.floating.current);s&&u.addEventListener("keydown",e),f&&u.addEventListener("mousedown",t);const d=(v?[...E(c.reference.current)?n.getOverflowAncestors(c.reference.current):[],...E(c.floating.current)?n.getOverflowAncestors(c.floating.current):[]]:[]).filter((e=>{var t;return e!==(null==(t=u.defaultView)?void 0:t.visualViewport)}));return d.forEach((e=>e.addEventListener("scroll",o,{passive:!0}))),()=>{s&&u.removeEventListener("keydown",e),f&&u.removeEventListener("mousedown",t),d.forEach((e=>e.removeEventListener("scroll",o)))}}),[s,f,i,m,l,r,y,k,v,a,g,b,c.floating,c.reference]),a?{reference:{onPointerDown(){d&&(i.emit("dismiss"),o(!1))}}}:{}},e.useFloating=function(e){let{open:t=!1,onOpenChange:r=(()=>{}),placement:o,middleware:l,strategy:a,nodeId:s}=void 0===e?{}:e;const f=p(),d=u.useRef({}),v=u.useState((()=>i()))[0],g=n.useFloating({placement:o,middleware:l,strategy:a}),m=u.useMemo((()=>({...g,dataRef:d,nodeId:s,events:v,open:t,onOpenChange:r})),[g,d,s,v,t,r]);return c((()=>{const e=null==f?void 0:f.nodesRef.current.find((e=>e.id===s));e&&(e.context=m)})),u.useMemo((()=>({context:m,...g})),[g,m])},e.useFloatingNodeId=()=>{const e=d(),t=p(),n=m();return c((()=>{const r={id:e,parentId:n};return null==t||t.addNode(r),()=>{null==t||t.removeNode(r)}}),[t,e,n]),e},e.useFloatingParentNodeId=m,e.useFloatingTree=p,e.useFocus=function(e,t){let{open:n,onOpenChange:r,dataRef:o,refs:c,events:i}=e,{enabled:l=!0,keyboardOnly:a=!0}=void 0===t?{}:t;const s=u.useRef(!1);return u.useEffect((()=>{var e;if(!l)return;const t=null!=(e=h(c.floating.current).defaultView)?e:window;function r(){s.current=!n}function o(){setTimeout((()=>{s.current=!1}))}return t.addEventListener("focus",o),t.addEventListener("blur",r),()=>{t.removeEventListener("focus",o),t.removeEventListener("blur",r)}}),[c.floating,n,l]),u.useEffect((()=>{if(l)return i.on("dismiss",e),()=>{i.off("dismiss",e)};function e(){s.current=!0}}),[i,l]),l?{reference:{onPointerDown(e){let{pointerType:t}=e;s.current=!(!t||!a)},onFocus(e){var t,n,u;s.current||"focus"===e.type&&"mousedown"===(null==(t=o.current.openEvent)?void 0:t.type)&&E(c.reference.current)&&null!=(n=c.reference.current)&&n.contains(null==(u=o.current.openEvent)?void 0:u.target)||(o.current.openEvent=e.nativeEvent,r(!0))},onBlur(e){var t;const n=e.relatedTarget;null!=(t=c.floating.current)&&t.contains(n)||E(c.reference.current)&&c.reference.current.contains(n)||(s.current=!1,r(!1))}}}:{}},e.useHover=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:o=null,mouseOnly:i=!1,restMs:l=0}=void 0===t?{}:t;const{open:a,onOpenChange:s,dataRef:f,events:d,refs:v}=e,g=p(),m=F(s),y=F(o),b=u.useRef(),w=u.useRef(),x=u.useRef(),k=u.useRef(),R=u.useRef(!0);c((()=>{n&&(a||(b.current=void 0))})),u.useEffect((()=>{if(n)return d.on("dismiss",e),()=>{d.off("dismiss",e)};function e(){clearTimeout(w.current),clearTimeout(k.current),R.current=!0}}),[n,d,v.floating]),u.useEffect((()=>{if(!n||!y.current)return;function e(){var e;null!=(e=f.current.openEvent)&&e.type.includes("mouse")&&m.current(!1)}const t=h(v.floating.current).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}}),[v.floating,m,n,y,f]);const O=u.useCallback((function(e){void 0===e&&(e=!0),r&&!x.current?(clearTimeout(w.current),w.current=setTimeout((()=>m.current(!1)),N(r,"close",b.current))):e&&m.current(!1)}),[r,m]),T=u.useCallback((()=>{x.current&&(h(v.floating.current).removeEventListener("pointermove",x.current),x.current=void 0)}),[v.floating]);if(u.useEffect((()=>{a||T()}),[a,n,T]),u.useEffect((()=>{if(!n)return;function t(e){clearTimeout(w.current),R.current=!1,a||i&&"mouse"!==b.current||l>0&&0===N(r,"open")||(f.current.openEvent=e,r?w.current=setTimeout((()=>{m.current(!0)}),N(r,"open",b.current)):m.current(!0))}function o(t){var n,r;if("click"===(null==(n=f.current.openEvent)?void 0:n.type)||"pointerdown"===(null==(r=f.current.openEvent)?void 0:r.type))return;const o=h(v.floating.current);if(clearTimeout(k.current),y.current)return clearTimeout(w.current),x.current&&o.removeEventListener("pointermove",x.current),x.current=y.current({...e,tree:g,x:t.clientX,y:t.clientY,onClose(){T(),O()}}),void o.addEventListener("pointermove",x.current);O()}const u=v.reference.current;return E(u)?(u.addEventListener("mousemove",t,{once:!0}),u.addEventListener("mouseenter",t),u.addEventListener("mouseleave",o),()=>{u.removeEventListener("mousemove",t),u.removeEventListener("mouseenter",t),u.removeEventListener("mouseleave",o)}):void 0}),[n,O,e,r,y,f,i,m,a,g,l,T,v.reference,v.floating]),!n)return{};function I(e){b.current=e.pointerType}return{reference:{onPointerDown:I,onPointerEnter:I,onMouseMove(){a||0===l||(clearTimeout(k.current),k.current=setTimeout((()=>{R.current||s(!0)}),l))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave:()=>O(!1)}}},e.useId=d,e.useInteractions=function(e){return void 0===e&&(e=[]),{getReferenceProps:t=>y(t,e,"reference"),getFloatingProps:t=>y(t,e,"floating"),getItemProps:t=>y(t,e,"item")}},e.useListNavigation=function(e,n){let{open:r,onOpenChange:o,refs:i}=e,{listRef:l,activeIndex:a,onNavigate:s,enabled:f=!0,selectedIndex:d=null,allowEscape:v=!1,loop:g=!1,nested:y=!1,rtl:b=!1,virtual:E=!1,focusItemOnOpen:x="auto",focusItemOnHover:k=!0,orientation:R="vertical"}=void 0===n?{listRef:{current:[]},activeIndex:null,onNavigate:()=>{}}:n;const O=m(),T=p(),I=function(e){const n=t.useRef();return c((()=>{n.current=e}),[e]),n.current}(r),C=u.useRef("auto"!==x&&x),L=u.useRef(null!=d?d:-1),M=u.useRef(""),P=F(s),S=u.useRef(!1),[j,N]=u.useState(),K=u.useCallback(((e,t)=>{var n,r;E?N(null==(n=e.current[t.current])?void 0:n.id):null==(r=e.current[t.current])||r.focus({preventScroll:!0})}),[E]);function W(e){if(S.current=!0,y&&function(e,t,n){return _(t,n?e===G:e===H,e===U)}(e.key,R,b))return D(e),o(!1),void(w(i.reference.current)&&i.reference.current.focus());const t=L.current,n=z(l),r=J(l);if("Home"===e.key&&(L.current=n,s(L.current)),"End"===e.key&&(L.current=r,s(L.current)),X(e.key,R)){if(D(e),!E&&A(e.currentTarget.ownerDocument)===e.currentTarget)return L.current=null!=d?d:Y(e.key,R,b)?n:r,void s(L.current);Y(e.key,R,b)?L.current=g?t>=r?v&&t!==l.current.length?-1:n:V(l,{startingIndex:t}):Math.min(r,V(l,{startingIndex:t})):L.current=g?t<=n?v&&-1!==t?l.current.length:r:V(l,{startingIndex:t,decrement:!0}):Math.max(n,V(l,{startingIndex:t,decrement:!0})),s(L.current)}}return c((()=>{f&&(null!=d&&(L.current=d),!I&&r&&C.current&&(P.current(L.current),K(l,L)))}),[r,I,d,l,P,K,f]),c((()=>{f&&r&&(null==a?(!I&&C.current&&null==d||v)&&(L.current=v?-1:z(l),P.current(a),K(l,L)):(L.current=a,P.current(a),K(l,L)))}),[r,I,a,d,y,l,P,K,f,O,v,i.floating,null==T?void 0:T.nodesRef]),c((()=>{if(null==d&&f){if(r&&(X(M.current,R)||C.current&&(" "===M.current||"Enter"===M.current))){const e=z(l),t=J(l);L.current=function(e,t,n){return _(t,e===U,n?e===G:e===H)}(M.current,R,b)?v?l.current.length:t:v?-1:e,P.current(L.current),K(l,L)}M.current=""}}),[r,l,d,P,K,f,R,b,v]),c((()=>{f&&!r&&I&&null!=d&&w(i.reference.current)&&i.reference.current.focus()}),[i.reference,d,r,I,f]),c((()=>{var e;f&&(r||(L.current=null!=(e=null!=d?d:a)?e:-1,P.current(null)))}),[r,d,a,f,x,P]),c((()=>{if(f&&!r&&I){var e,t;const n=null==T||null==(e=T.nodesRef.current.find((e=>e.id===O)))||null==(t=e.context)?void 0:t.refs.floating.current;n&&!n.contains(A(h(n)))&&n.focus({preventScroll:!0})}}),[f,r,I,T,O]),c((()=>{C.current=!1,M.current=""})),f?{reference:{...E&&r&&null!=a&&{"aria-activedescendant":j},onKeyDown(e){if(S.current=!0,E&&r)return W(e);"auto"===x&&(C.current=!0),M.current=e.key,y?function(e,t,n){return _(t,n?e===H:e===G,e===q)}(e.key,R,b)&&(D(e),r?(L.current=z(l),s(L.current)):o(!0)):(X(e.key,R)&&(L.current=null==d?Y(e.key,R,b)?z(l):J(l):d,D(e),o(!0),s(L.current)),E&&!r&&W(e))}},floating:{"aria-orientation":"both"===R?void 0:R,...E&&null!=a&&{"aria-activedescendant":j},onKeyDown:W,onPointerMove(){S.current=!1}},item:{onFocus(e){let{currentTarget:t}=e;const n=l.current.indexOf(t);-1!==n&&s(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...k&&{onPointerMove(e){let{currentTarget:t}=e;const n=t;if(n){const e=l.current.indexOf(n);-1!==e&&s(e)}},onPointerLeave(){var e;S.current||(s(null),E?(L.current=-1,K(l,L)):null==(e=i.floating.current)||e.focus({preventScroll:!0}))}}}}:{}},e.useRole=function(e,t){let{open:n}=e,{enabled:r=!0,role:o="dialog"}=void 0===t?{}:t;const u=d(),c=d(),i={id:u,role:o};return r?"tooltip"===o?{reference:{"aria-describedby":n?u:void 0},floating:i}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":o,"aria-controls":n?u:void 0,..."listbox"===o&&{role:"combobox"},..."menu"===o&&{id:c}},floating:{...i,..."menu"===o&&{"aria-labelledby":c}}}:{}},e.useTypeahead=function(e,t){var n;let{open:r,dataRef:o}=e,{listRef:i,activeIndex:l,onMatch:a=(()=>{}),enabled:s=!0,findMatch:f=null,resetMs:d=1e3,ignoreKeys:v=[],selectedIndex:g=null}=void 0===t?{listRef:{current:[]},activeIndex:null}:t;const m=u.useRef(),p=u.useRef(""),y=u.useRef(null!=(n=null!=g?g:l)?n:-1),b=u.useRef(null);function E(e){if(!e.currentTarget.contains(A(h(e.currentTarget))))return;p.current.length>0&&" "!==p.current[0]&&(o.current.typing=!0," "===e.key&&D(e));const t=i.current;if(null==t||["Home","End","Escape","Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight",...v].includes(e.key))return;t.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&p.current===e.key&&(p.current="",y.current=b.current),p.current+=e.key,clearTimeout(m.current),m.current=setTimeout((()=>{p.current="",y.current=b.current,o.current.typing=!1}),d);const n=y.current,r=[...t.slice((null!=n?n:0)+1),...t.slice(0,(null!=n?n:0)+1)],u=f?f(r,p.current):r.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(p.current)))),c=u?t.indexOf(u):-1;-1!==c&&(a(c),b.current=c)}return c((()=>{r&&(clearTimeout(m.current),b.current=null,p.current="")}),[r]),c((()=>{var e;r&&""===p.current&&(y.current=null!=(e=null!=g?g:l)?e:-1)}),[r,g,l]),s?{reference:{onKeyDown:E},floating:{onKeyDown:E}}:{}},Object.keys(n).forEach((function(t){"default"===t||e.hasOwnProperty(t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})),Object.defineProperty(e,"__esModule",{value:!0})}));
